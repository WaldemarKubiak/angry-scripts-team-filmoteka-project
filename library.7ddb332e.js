function e(e,t,o,a){Object.defineProperty(e,t,{get:o,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n.register("ifJdc",(function(t,o){var a,n;e(t.exports,"register",(()=>a),(e=>a=e)),e(t.exports,"resolve",(()=>n),(e=>n=e));var i={};a=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)i[t[o]]=e[t[o]]},n=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("ifJdc").register(JSON.parse('{"gNQ6s":"library.7ddb332e.js","5vHOg":"nothing.e34c2d05.jpg","bSbOs":"library.d321c1a1.css"}'));const i=document.querySelector(".loader");i.classList.add("loader-run"),window.addEventListener("load",(function(){i.classList.remove(".loader-run")}));const d="7181a2b710caf29c7153fca4f71ab7d2";var r={getTrending:async(e=1)=>{try{const t=`https://api.themoviedb.org/3/trending/movie/week?api_key=${d}&page=${e}`,o=await fetch(t);return await o.json()}catch(e){console.log(e.message)}},getMovieByID:async e=>{try{const t=`https://api.themoviedb.org/3/movie/${e}?api_key=${d}`,o=await fetch(t);return await o.json()}catch(e){console.log(e.message)}},getMovies:async(e,t=1)=>{try{const o=`https://api.themoviedb.org/3/search/movie?api_key=${d}&query=${e}&page=${t}`,a=await fetch(o);return await a.json()}catch(e){console.log(e.message)}},getGenres:async()=>{try{const e=`https://api.themoviedb.org/3/genre/movie/list?api_key=${d}&language=en-US`,t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}}};const s="watched",c="queue",l=JSON.parse(localStorage.getItem(s))||[],u=JSON.parse(localStorage.getItem(c))||[];var m={onAddToWatched:function(e){var t;l.includes(e)||(l.push(e),t=l,localStorage.setItem(s,JSON.stringify(t)))},onAddToQueue:function(e){var t;u.includes(e)||(u.push(e),t=u,localStorage.setItem(c,JSON.stringify(t)))}};function v({title:e,original_title:t,overview:o,popularity:a,poster_path:n,id:i,vote_average:d,vote_count:r}){const s=document.querySelector("body");s.classList.add("modal-open");const c=document.querySelector(".movie-modal"),l=`\n    <div class="movie-modal__img-container">\n     <img src="https://image.tmdb.org/t/p/w400${n}" alt="" class="movie-modal__img"/></div>\n    <div class="movie-modal__content">\n      <h2 class="movie-modal__title">${e}</h2>\n      <table class="movie-modal__table">\n        <tr>\n          <td class="movie-modal__table-caption">Vote /Votes</td>\n          <td><span class = "movie-data__vote">${(Math.round(10*d)/10).toFixed(1)}</span> / <span>${r}</span></td>\n        </tr>\n        <tr>\n          <td class="movie-modal__table-caption">Popuarity</td>\n          <td>${(Math.round(10*a)/10).toFixed(1)}</td>\n        </tr>\n        <tr>\n          <td class="movie-modal__table-caption">Original Title</td>\n          <td>${t}</td>\n        </tr>\n        <tr>\n          <td class="movie-modal__table-caption">Genre</td>\n          <td>Western</td>\n        </tr>\n      </table>\n      <div class="movie-modal__about">\n        <h3 class="movie-modal__about-header">ABOUT</h3>   \n        <p class="movie-modal__overview">${o}</p>\n    </div>\n      <div class="btn-wrapper">\n        <button type="button" class="button button--accent add-to-watched-btn" id="addToWatchedBtn">\n          ADD TO WATCHED\n        </button>\n        <button type="button" class="button" id="addToQueueBtn">ADD TO QUEUE</button>\n      </div>\n    </div>\n    `,u=document.createElement("div");u.classList.add("movie-modal__container"),u.innerHTML=l,c.append(u);const v=document.querySelector("[data-modal]");v.classList.remove("backdrop--is-hidden");document.querySelector("[data-modal-close]").addEventListener("click",(()=>{u.remove(),v.classList.add("backdrop--is-hidden"),s.classList.remove("modal-open")}));document.querySelector(".add-to-watched-btn").addEventListener("click",(()=>m.onAddToWatched(i)));document.querySelector("#addToQueueBtn").addEventListener("click",(()=>m.onAddToQueue(i)))}new URL(n("ifJdc").resolve("5vHOg"),import.meta.url).toString();var p=e=>{const t=document.querySelector(".movie-collection"),{id:o,title:a,poster_path:n,release_date:i}=e,d=e.map((({id:e,title:t,poster_path:o,release_date:a,vote_average:n})=>`<div class="movie-card" data-id="${e}">\n      <img src="https://image.tmdb.org/t/p/w400${o}" alt="" class="movie-card__img"/>\n      <div class="movie-data">\n        <p class="movie-data__title">${t}</p>\n        <p class="movie-data__info">\n          <span class="movie-data__genre">Drama, Action </span> |\n          <span class="movie-data__year">${new Date(a).getFullYear()}</span>\n          <span class = "movie-data__vote">${(Math.round(10*n)/10).toFixed(1)}</span>\n        </p>\n      </div>\n    </div>\n`)).join("");t.innerHTML=d;document.querySelectorAll(".movie-card").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.dataset.id;r.getMovieByID(t).then((e=>{v(e)})).catch((e=>console.log(e)))}))}))};({watchedRef:document.querySelector("#watched-btn"),queueRef:document.querySelector("#queue-btn"),movieCollectionDOM:document.querySelector(".movie-collection")}).watchedRef.addEventListener("click",(function(){const e=[];l.forEach((t=>r.getMovieByID(t).then((t=>e.push(t))).catch((e=>console.log(e.message))))),console.log(e),p(e)}));
//# sourceMappingURL=library.7ddb332e.js.map
